import"./main-BFPVeZqq.js";import{e as y}from"./vendor-DdEzBdPD.js";document.addEventListener("DOMContentLoaded",()=>{const i=document.querySelector(".order-form"),c=document.querySelectorAll(".budget-option"),o=document.getElementById("empty-error"),d=document.getElementById("file-upload"),m=document.getElementById("file-list"),r=new Set,l=e=>{if(!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e))return!1;const a=e.split("@")[1].split(".");return a.length<2?!1:a[a.length-1].length>=2},g=e=>{const s=document.querySelector(`#${e.id}-error`);if(e.type==="email"){if(!l(e.value))return s.textContent="Invalid E-mail",!1}else if(e.checkValidity())s.textContent="";else{const t=e.getAttribute("data-error-message")||"Invalid field.";return s.textContent=t,!1}return!0},u=document.getElementById("user-comment"),h=document.getElementById("char-counter"),L=parseInt(u.getAttribute("minlength"),10),C=()=>{const t=u.value.split("").length;h.textContent=`${t}/${L}`,t>L?h.classList.add("error"):h.classList.remove("error")};u.addEventListener("input",C);const E=()=>{const e=d.files,s=["doc","docx","pdf","ppt","pptx"],t=30*1024*1024,a=3;if(!o)return!1;for(let n of e){const v=n.name.split(".").pop().toLowerCase();if(r.has(n.name)){o.textContent=`File ${n.name} is already added.`;continue}if(!s.includes(v))return o.textContent=`Unsupported file format: ${n.name}`,!1;if(n.size>t)return o.textContent=`File ${n.name} exceeds the 30MB size limit.`,!1;if(r.size>=a)return o.textContent=`You can attach up to ${a} files.`,!1;const p=document.createElement("li");p.classList.add("file__item");const x=document.createElement("span");x.textContent=n.name;const f=document.createElement("button");f.innerHTML='<span class="icon icon-close"></span>',f.classList.add("btn-del"),f.addEventListener("click",()=>{p.remove(),r.delete(n.name),o.textContent=""}),p.appendChild(x),p.appendChild(f),m.appendChild(p),r.add(n.name)}return o.textContent="",!0},b=()=>{let e=!0;return i.querySelectorAll(".validate").forEach(t=>{t.id&&!g(t)?(e=!1,t.classList.add("field-error")):t.classList.remove("field-error")}),E()||(e=!1),e},_=e=>{c.forEach(s=>s.classList.remove("selected")),e.target.classList.add("selected")};i.addEventListener("submit",e=>{var s;if(e.preventDefault(),b()){o.textContent="";const t=new FormData(i);y.init("lLSKvVcx1LQ3lQ7Qy");const a={user_name:t.get("user-name"),user_email:t.get("user-email"),user_phone:t.get("user-phone"),user_comment:t.get("user-comment"),project_budget:((s=document.querySelector(".budget-option.selected"))==null?void 0:s.getAttribute("data-value"))||"Not specified",user_nda:t.get("user-nda")?"Yes":"No"};y.send("service_d3x1f1d","template_9nakrge",a).then(()=>{const n=document.getElementById("popup-mini");n.classList.remove("hide"),n.classList.add("is-open"),n.querySelector(".popup-mini__close-btn").addEventListener("click",()=>{n.classList.remove("is-open"),n.classList.add("hide")}),i.reset(),m.innerHTML="",c.forEach(v=>v.classList.remove("selected")),r.clear()}).catch(n=>{console.error("Error submitting form:",n),alert("There was an error submitting the form.")})}else o.textContent="Please fix the errors above before submitting."}),c.forEach(e=>{e.addEventListener("click",_)}),d.addEventListener("change",E)});document.addEventListener("DOMContentLoaded",()=>{const i=document.querySelectorAll(".portfolio__item"),c=document.getElementById("loader");let o=3,d=0;function m(){c.style.display="none";for(let l=d;l<d+o;l++)if(i[l])i[l].style.display="block";else{window.removeEventListener("scroll",r);return}d+=o}function r(){const{scrollTop:l,scrollHeight:g,clientHeight:u}=document.documentElement;l+u/2>=g/2-5&&(c.style.display="block",setTimeout(m,500))}m(),window.addEventListener("scroll",r)});
//# sourceMappingURL=portfolio-B7vDTgut.js.map
