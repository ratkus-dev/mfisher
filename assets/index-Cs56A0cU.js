import"./main-CURJ1h96.js";import{e as x}from"./vendor-DdEzBdPD.js";document.addEventListener("DOMContentLoaded",()=>{const i=document.querySelector(".order-form"),d=document.querySelectorAll(".budget-option"),o=document.getElementById("empty-error"),f=document.getElementById("file-upload"),g=document.getElementById("file-list"),r=new Set,E=n=>{const s=document.querySelector(`#${n.id}-error`);if(n.checkValidity())return s.textContent="",!0;{const e=n.getAttribute("data-error-message")||"Invalid field.";return s.textContent=e,!1}},u=document.getElementById("user-comment"),m=document.getElementById("char-counter"),h=parseInt(u.getAttribute("minlength"),10),C=()=>{const e=u.value.split("").length;m.textContent=`${e}/${h}`,e>h?m.classList.add("error"):m.classList.remove("error")};u.addEventListener("input",C);const L=()=>{const n=f.files,s=["doc","docx","pdf","ppt","pptx"],e=30*1024*1024,l=3;if(!o)return!1;for(let t of n){const p=t.name.split(".").pop().toLowerCase();if(r.has(t.name)){o.textContent=`File ${t.name} is already added.`;continue}if(!s.includes(p))return o.textContent=`Unsupported file format: ${t.name}`,!1;if(t.size>e)return o.textContent=`File ${t.name} exceeds the 100MB size limit.`,!1;if(r.size>=l)return o.textContent=`You can attach up to ${l} files.`,!1;const a=document.createElement("li");a.classList.add("file__item");const v=document.createElement("span");v.textContent=t.name;const c=document.createElement("button");c.innerHTML='<span class="icon icon-close"></span>',c.classList.add("btn-del"),c.addEventListener("click",()=>{a.remove(),r.delete(t.name),o.textContent=""}),a.appendChild(v),a.appendChild(c),g.appendChild(a),r.add(t.name)}return o.textContent="",!0},b=()=>{let n=!0;return i.querySelectorAll(".validate").forEach(e=>{e.id&&!E(e)?(n=!1,e.classList.add("field-error")):e.classList.remove("field-error")}),L()||(n=!1),n},y=n=>{d.forEach(s=>s.classList.remove("selected")),n.target.classList.add("selected")};i.addEventListener("submit",n=>{var s;if(n.preventDefault(),b()){o.textContent="";const e=new FormData(i);x.init("lLSKvVcx1LQ3lQ7Qy");const l={user_name:e.get("user-name"),user_email:e.get("user-email"),user_phone:e.get("user-phone"),user_comment:e.get("user-comment"),project_budget:((s=document.querySelector(".budget-option.selected"))==null?void 0:s.getAttribute("data-value"))||"Not specified",user_nda:e.get("user-nda")?"Yes":"No"};x.send("service_d3x1f1d","template_9nakrge",l).then(()=>{const t=document.getElementById("popup-mini");t.classList.remove("hide"),t.classList.add("is-open"),t.querySelector(".popup-mini__close-btn").addEventListener("click",()=>{t.classList.remove("is-open"),t.classList.add("hide")}),i.reset(),g.innerHTML="",d.forEach(p=>p.classList.remove("selected")),r.clear()}).catch(t=>{console.error("Error submitting form:",t),alert("There was an error submitting the form.")})}else o.textContent="Please fix the errors above before submitting."}),d.forEach(n=>{n.addEventListener("click",y)}),f.addEventListener("change",L)});
//# sourceMappingURL=index-Cs56A0cU.js.map
