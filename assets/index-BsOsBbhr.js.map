{"version":3,"file":"index-BsOsBbhr.js","sources":["../../src/index.html?html-proxy&index=1.js"],"sourcesContent":["\n  import emailjs from \"@emailjs/browser\";\n\n  document.addEventListener(\"DOMContentLoaded\", () => {\n    const form = document.querySelector(\".order-form\");\n    const budgetOptions = document.querySelectorAll(\".budget-option\");\n    const errorContainer = document.getElementById(\"empty-error\");\n    const fileInput = document.getElementById(\"file-upload\");\n    const fileList = document.getElementById(\"file-list\");\n\n    const uploadedFiles = new Set();\n\n    const validateField = (field) => {\n      const errorSpan = document.querySelector(`#${field.id}-error`);\n      if (!field.checkValidity()) {\n        const errorMessage = field.getAttribute(\"data-error-message\") || \"Invalid field.\";\n        errorSpan.textContent = errorMessage;\n        return false;\n      } else {\n        errorSpan.textContent = \"\";\n        return true;\n      }\n    };\n    const textarea = document.getElementById(\"user-comment\");\n    const counter = document.getElementById(\"char-counter\");\n    const maxLength = parseInt(textarea.getAttribute(\"minlength\"), 10);\n\n    const updateCounter = () => {\n      const inputValue = textarea.value;\n      const validChars = inputValue.split(\"\");\n      const validLength = validChars.length;\n\n      counter.textContent = `${validLength}/${maxLength}`;\n      if (validLength > maxLength) {\n        counter.classList.add(\"error\");\n      } else {\n        counter.classList.remove(\"error\");\n      }\n    };\n\n    textarea.addEventListener(\"input\", updateCounter);\n\n    const validateFiles = () => {\n      const files = fileInput.files;\n      const allowedExtensions = [\"doc\", \"docx\", \"pdf\", \"ppt\", \"pptx\"];\n      const maxFileSize = 30 * 1024 * 1024; // 100MB\n      const maxFiles = 3;\n\n      if (!errorContainer) return false;\n\n      let newFilesCount = 0;\n\n      for (let file of files) {\n        const extension = file.name.split(\".\").pop().toLowerCase();\n\n        if (uploadedFiles.has(file.name)) {\n          errorContainer.textContent = `File ${file.name} is already added.`;\n          continue;\n        }\n\n        if (!allowedExtensions.includes(extension)) {\n          errorContainer.textContent = `Unsupported file format: ${file.name}`;\n          return false;\n        }\n\n        if (file.size > maxFileSize) {\n          errorContainer.textContent = `File ${file.name} exceeds the 100MB size limit.`;\n          return false;\n        }\n\n        if (uploadedFiles.size >= maxFiles) {\n          errorContainer.textContent = `You can attach up to ${maxFiles} files.`;\n          return false;\n        }\n\n        const listItem = document.createElement(\"li\");\n        listItem.classList.add(\"file__item\");\n\n        const fileName = document.createElement(\"span\");\n        fileName.textContent = file.name;\n\n        const deleteButton = document.createElement(\"button\");\n        deleteButton.innerHTML = '<span class=\"icon icon-close\"></span>';\n        deleteButton.classList.add(\"btn-del\");\n        deleteButton.addEventListener(\"click\", () => {\n          listItem.remove();\n          uploadedFiles.delete(file.name);\n          errorContainer.textContent = \"\";\n          newFilesCount--;\n        });\n\n        listItem.appendChild(fileName);\n        listItem.appendChild(deleteButton);\n        fileList.appendChild(listItem);\n        uploadedFiles.add(file.name);\n        newFilesCount++;\n      }\n\n      errorContainer.textContent = \"\";\n      return true;\n    };\n\n    const validateForm = () => {\n      let isValid = true;\n      const fields = form.querySelectorAll(\".validate\");\n\n      fields.forEach((field) => {\n        if (field.id && !validateField(field)) {\n          isValid = false;\n          field.classList.add(\"field-error\");\n        } else {\n          field.classList.remove(\"field-error\");\n        }\n      });\n\n      if (!validateFiles()) {\n        isValid = false;\n      }\n\n      return isValid;\n    };\n\n    const handleBudgetSelection = (event) => {\n      budgetOptions.forEach((option) => option.classList.remove(\"selected\"));\n      event.target.classList.add(\"selected\");\n    };\n\n    form.addEventListener(\"submit\", (e) => {\n      e.preventDefault();\n\n      if (validateForm()) {\n        errorContainer.textContent = \"\";\n        const formData = new FormData(form);\n\n        emailjs.init(\"lLSKvVcx1LQ3lQ7Qy\");\n\n        const data = {\n          user_name: formData.get(\"user-name\"),\n          user_email: formData.get(\"user-email\"),\n          user_phone: formData.get(\"user-phone\"),\n          user_comment: formData.get(\"user-comment\"),\n          project_budget:\n            document.querySelector(\".budget-option.selected\")?.getAttribute(\"data-value\") || \"Not specified\",\n          user_nda: formData.get(\"user-nda\") ? \"Yes\" : \"No\",\n        };\n\n        emailjs\n          .send(\"service_d3x1f1d\", \"template_9nakrge\", data)\n          .then(() => {\n            const popup = document.getElementById(\"popup-mini\");\n            popup.classList.remove(\"hide\");\n            popup.classList.add(\"is-open\");\n\n            popup.querySelector(\".popup-mini__close-btn\").addEventListener(\"click\", () => {\n              popup.classList.remove(\"is-open\");\n              popup.classList.add(\"hide\");\n            });\n            form.reset();\n            fileList.innerHTML = \"\";\n            budgetOptions.forEach((option) => option.classList.remove(\"selected\"));\n            uploadedFiles.clear();\n          })\n          .catch((error) => {\n            console.error(\"Error submitting form:\", error);\n            alert(\"There was an error submitting the form.\");\n          });\n      } else {\n        errorContainer.textContent = \"Please fix the errors above before submitting.\";\n      }\n    });\n\n    budgetOptions.forEach((option) => {\n      option.addEventListener(\"click\", handleBudgetSelection);\n    });\n    fileInput.addEventListener(\"change\", validateFiles);\n  });\n"],"names":["form","budgetOptions","errorContainer","fileInput","fileList","uploadedFiles","validateField","field","errorSpan","errorMessage","textarea","counter","maxLength","updateCounter","validLength","validateFiles","files","allowedExtensions","maxFileSize","maxFiles","file","extension","listItem","fileName","deleteButton","validateForm","isValid","handleBudgetSelection","event","option","e","formData","emailjs","data","_a","popup","error"],"mappings":"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"}