import"./main-C47weUre.js";import{e as x}from"./vendor-DdEzBdPD.js";document.addEventListener("DOMContentLoaded",()=>{const i=document.querySelector(".order-form"),a=document.querySelectorAll(".budget-option"),o=document.getElementById("empty-error"),c=document.getElementById("file-upload"),d=document.getElementById("file-list"),r=new Set,l=n=>{const s=document.querySelector(`#${n.id}-error`);if(n.checkValidity())return s.textContent="",!0;{const e=n.getAttribute("data-error-message")||"Invalid field.";return s.textContent=e,!1}},m=document.getElementById("user-comment"),u=document.getElementById("char-counter"),L=parseInt(m.getAttribute("minlength"),10),y=()=>{const e=m.value.split("").length;u.textContent=`${e}/${L}`,e>L?u.classList.add("error"):u.classList.remove("error")};m.addEventListener("input",y);const v=()=>{const n=c.files,s=["doc","docx","pdf","ppt","pptx"],e=30*1024*1024,f=3;if(!o)return!1;for(let t of n){const h=t.name.split(".").pop().toLowerCase();if(r.has(t.name)){o.textContent=`File ${t.name} is already added.`;continue}if(!s.includes(h))return o.textContent=`Unsupported file format: ${t.name}`,!1;if(t.size>e)return o.textContent=`File ${t.name} exceeds the 100MB size limit.`,!1;if(r.size>=f)return o.textContent=`You can attach up to ${f} files.`,!1;const p=document.createElement("li");p.classList.add("file__item");const E=document.createElement("span");E.textContent=t.name;const g=document.createElement("button");g.innerHTML='<span class="icon icon-close"></span>',g.classList.add("btn-del"),g.addEventListener("click",()=>{p.remove(),r.delete(t.name),o.textContent=""}),p.appendChild(E),p.appendChild(g),d.appendChild(p),r.add(t.name)}return o.textContent="",!0},C=()=>{let n=!0;return i.querySelectorAll(".validate").forEach(e=>{e.id&&!l(e)?(n=!1,e.classList.add("field-error")):e.classList.remove("field-error")}),v()||(n=!1),n},b=n=>{a.forEach(s=>s.classList.remove("selected")),n.target.classList.add("selected")};i.addEventListener("submit",n=>{var s;if(n.preventDefault(),C()){o.textContent="";const e=new FormData(i);x.init("lLSKvVcx1LQ3lQ7Qy");const f={user_name:e.get("user-name"),user_email:e.get("user-email"),user_phone:e.get("user-phone"),user_comment:e.get("user-comment"),project_budget:((s=document.querySelector(".budget-option.selected"))==null?void 0:s.getAttribute("data-value"))||"Not specified",user_nda:e.get("user-nda")?"Yes":"No"};x.send("service_d3x1f1d","template_9nakrge",f).then(()=>{const t=document.getElementById("popup-mini");t.classList.remove("hide"),t.classList.add("is-open"),t.querySelector(".popup-mini__close-btn").addEventListener("click",()=>{t.classList.remove("is-open"),t.classList.add("hide")}),i.reset(),d.innerHTML="",a.forEach(h=>h.classList.remove("selected")),r.clear()}).catch(t=>{console.error("Error submitting form:",t),alert("There was an error submitting the form.")})}else o.textContent="Please fix the errors above before submitting."}),a.forEach(n=>{n.addEventListener("click",b)}),c.addEventListener("change",v)});document.addEventListener("DOMContentLoaded",()=>{const i=document.querySelectorAll(".portfolio__item"),a=document.getElementById("loader");let o=3,c=0;function d(){a.style.display="none";for(let l=c;l<c+o;l++)if(i[l])i[l].style.display="block";else{window.removeEventListener("scroll",r);return}c+=o}function r(){const{scrollTop:l,scrollHeight:m,clientHeight:u}=document.documentElement;l+u/2>=m/2-5&&(a.style.display="block",setTimeout(d,500))}d(),window.addEventListener("scroll",r)});
//# sourceMappingURL=portfolio-JX9NKDdn.js.map
